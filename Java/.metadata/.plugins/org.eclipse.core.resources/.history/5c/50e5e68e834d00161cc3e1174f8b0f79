package cn.edu.pku.sce;

public class ThreadDemo {
	public static void main(String args[]) {
        Thread t = Thread.currentThread();
        new NewThread();
        new NewThread2();
        System.out.println("当前线程名称: " + t.getName());     
        t.setName("MainThread");
        System.out.println("After name change: " + t);
        try {
            for(int n = 5; n > 0; n--) {
                System.out.println(t.getName()+":"+n);
                Thread.sleep(1000);
            }
        } catch (InterruptedException e) {
            System.out.println("Main thread interrupted");
        }
    }
}

class NewThread2 extends Thread{
	public NewThread2() {
		 super("SubThread2");
		 start();
	}
	
		public void run() {
			try {
	            for(int i = 5; i > 0; i--) {
	                System.out.println("SubThread2: " + i);
	                Thread.sleep(500);
	            }
	        } catch (InterruptedException e) {
	            System.out.println("Child interrupted.");
	        }
	        System.out.println("Exiting child thread.");
		}
	
}

//创建新线程：实现Runnable接口
class NewThread implements Runnable{

	Thread t;
	NewThread(){
		t=new Thread(this,"NewThread");
		t.setName("SubThread");		
		t.start();
		
	}
	@Override
	public void run() {
		System.out.println("子线程:"+t.getName());
		try {
			for (int i = 0; i <5; i++) {
				 System.out.println("子线程: " + i);
				 Thread.sleep(500);
			}
		} catch (InterruptedException  e) {
			// TODO: handle exception
		}
		 System.out.println("退出子线程.");
		
	}
	
	
}
